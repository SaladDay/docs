# 野火在线状态简介和开发说明
## 为什么要开发在线状态功能
在线状态是个非常消耗资源的功能。在我们以前的工作经验中，在线状态功能大概占到所有系统资源消耗的八成到九成左右。最早在线状态出现在PC时代，在线状态功能的意义还是非常大的。随着手机时代的来临，在线状态功能也就越来越尴尬：手机为了省电，放到后台后一般都会被系统冻结，断开与IM服务的连接。虽然IM服务连接断开，但当有新消息时，还可以通过系统推送服务及时通知到用户。这样就模糊了在线和不在线的边界，可以简单认为手机一直在线，除非退出登录。另外手机频繁前后台切换应用从而频繁的连接/断开，更加加重了系统资源的消耗。所以很多在移动互联网之后出现的即时通讯都没有在线状态功能，比如微信，可以认为所有用户一直在线。

我们也一直以为不会做在线状态功能，但客户在某些场景下确实需要在线状态功能。目前遇到的情况有这么几种：
1. 在线交友，需要能够快速甄别是否在线进行匹配。
2. 企业办公，需要知道对方是不是电脑端在线。甚至可能内网环境下只有PC客户端，这样就退回到PC时代。

虽然可以通过别的方法可以自己来实现在线状态，但这个功能比较复杂，没有这方面的经验很难做出来，所以我们决定提供在线状态功能。但请谨记，在线状态太消耗资源，非必要不要启动这个功能。

## 在线状态功能是什么
在线状态功能大概分为两部分：一部分是自定义状态，包括一个int类型和文本内容。另外是多个平台客户端的在线情况。
